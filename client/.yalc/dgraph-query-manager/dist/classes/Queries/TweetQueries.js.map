{"version":3,"sources":["../packages/dgraph-query-manager/src/classes/Queries/TweetQueries.ts"],"names":[],"mappings":";;AAAA,4CAAyC;AACzC,oCAAiC;AACjC,sCAAmC;AAEtB,QAAA,YAAY,GAAG;IAC1B,IAAI,EAAE,IAAI,aAAK,CACb;;;;;;;;OAQG,EACH,YAAY,EACZ,CAAC,IAAI,qBAAS,CAAC,KAAK,EAAE,eAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CACvC;IAED,MAAM,EAAE,IAAI,aAAK,CACf;;;;;;;;OAQG,EACH,SAAS,CACV;IAED,eAAe,EAAE,IAAI,aAAK,CACxB;;;;;;;;OAQG,EACH,gBAAgB,EAChB,CAAC,IAAI,qBAAS,CAAC,QAAQ,EAAE,eAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAC1C;IAED,aAAa,EAAE,IAAI,aAAK,CACtB;;;;;;;;;;OAUG,EACH,kBAAkB,EAClB,CAAC,IAAI,qBAAS,CAAC,KAAK,EAAE,eAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EACtC,aAAa,CACd;IAED;;OAEG;IACH,UAAU,EAAE,IAAI,aAAK,CACnB;;;;;;;;;;MAUE,EACF,oBAAoB,EACpB,CAAC,IAAI,qBAAS,CAAC,KAAK,EAAE,eAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EACtC,aAAa,CACd;CACF,CAAC","file":"TweetQueries.js","sourcesContent":["import { ParamType } from '../ParamType';\r\nimport { Query } from '../Query';\r\nimport { TypeOf } from '../TypeOf';\r\n\r\nexport const TweetQueries = {\r\n  find: new Query(\r\n    `query find($id: string) {\r\n      data(func: uid($id)) {\r\n        uid\r\n        expand(_all_) {\r\n          uid\r\n          expand(_all_) \r\n        }\r\n      }\r\n     }`,\r\n    '/tweet/:id',\r\n    [new ParamType('$id', TypeOf(String))]\r\n  ),\r\n\r\n  getAll: new Query(\r\n    `query {\r\n      data(func: has (tweet.text)) {\r\n        uid\r\n        expand(_all_) {\r\n          uid\r\n          expand(_all_)\r\n        }\r\n      }\r\n     }`,\r\n    '/tweets'\r\n  ),\r\n\r\n  getAllPaginated: new Query(\r\n    `query find($count: int) {\r\n      data(func: has (tweet.text), first: $count) {\r\n        uid\r\n        expand(_all_) {\r\n          uid\r\n          expand(_all_)\r\n        }\r\n      }\r\n     }`,\r\n    '/tweets/:count',\r\n    [new ParamType('$count', TypeOf(String))]\r\n  ),\r\n\r\n  getAllForUser: new Query(\r\n    `query find($id: string) {\r\n      data(func: uid($id)) {\r\n        tweets: ~tweet.user (orderdesc: tweet.createdAt) {\r\n          uid\r\n          expand(_all_) {\r\n            uid\r\n            expand(_all_)\r\n          }\r\n        }\r\n      }\r\n     }`,\r\n    '/tweets/user/:id',\r\n    [new ParamType('$id', TypeOf(String))],\r\n    'data.tweets'\r\n  ),\r\n\r\n  /**\r\n   * Get all Tweets that reply to specified Tweet Uid.\r\n   */\r\n  getReplies: new Query(\r\n    `query find($id: string) {\r\n      data(func: has(tweet.text)) {\r\n        tweets: @filter(uid_in(tweet.inReplyToStatusId, $id)) {\r\n          uid\r\n          expand(_all_) {\r\n            uid\r\n            expand(_all_)\r\n          }\r\n        }\r\n      }\r\n    }`,\r\n    `/tweet/:id/replies`,\r\n    [new ParamType('$id', TypeOf(String))],\r\n    'data.tweets'\r\n  )\r\n};\r\n"]}